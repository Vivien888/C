答：
（1）原因：！的优先级高于=，不用（）使运算顺序有违本意。
（2）修改如下：
if ((p=getPtr()) != 0)
if (i == 1024)